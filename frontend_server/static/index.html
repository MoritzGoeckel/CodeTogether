<html>
  <head>
    <title>Test</title>

  </head>
  <body>

    <span>Room: </span>
      <input type="text" value="_" id="room_id">
      <button id="join_btn">Join</button>
    </span>

    <select id="lang_options">
      <option value="js">js</option>
      <option value="py">py</option>
      <option value="cpp">cpp</option>
    </select>

    <div class="editor language-js" style="width: 50%; height: 30em; font-family: 'Source Code Pro', monospace;"></div>

    <button id="run_btn">Run</button>

    <div id="run_result"></div>

    <link rel="stylesheet" href="/dracula.min.css">

    <script src="/highlight.min.js"></script>
    <!-- <script src="//unpkg.com/@mui/material@latest/umd/material-ui.production.min.js"></script> -->
    <script type="module">
        import {CodeJar} from '/codejar.js'
        import {withLineNumbers} from '/linenumbers.js';
        import {connect} from '/client.js';

        const highlight = editor => {
            editor.textContent = editor.textContent
            hljs.highlightBlock(editor) // specify language
        }
            
        console.log(highlight)

        var jar = CodeJar(document.querySelector('.editor'), withLineNumbers(highlight))
        jar.updateCode('let foo = bar');

        connect(jar)
    </script>
  </body>
</html>